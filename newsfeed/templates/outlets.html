<!DOCTYPE html>

<html>
    <script type="text/javascript">
        function scan_rss(outlet_name){
            var apiUrl = `${outlet_name}/scan`;
            fetch(apiUrl).then(response => {
            return response.json();
            }).then(data => {
            // Work with JSON data here
            console.log(data);
            }).catch(err => {
            // Do something for an error here
            });

        }
        
    </script>
<body>

<h1>News Outlets</h1>

<ul>
    {% for x in outlets %}
        <li>{{x.name}} {{x.rss_last_scanned}} <button type="button" onclick="scan_rss({{x.id}})">Scan RSS</button></li>
    {% endfor %}
</ul>

</body>
</html>